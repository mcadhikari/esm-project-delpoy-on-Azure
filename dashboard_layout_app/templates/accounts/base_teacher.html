{%load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>School Management System - Teacher Dashboard</title>
    {% include 'cdnalink.html' %}
      <link rel="stylesheet" href="{%static 'css/teacher_dashboard.css'%}">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-brand" href="#dashboard">
                <i class="fas fa-chalkboard-teacher me-2"></i>Teacher Dashboard
            </a>
            
            <button class="navbar-toggler d-md-none" type="button" onclick="toggleSidebar()">
                <i class="fas fa-bars text-white"></i>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="btn btn-outline-warning text-white" href="#dashboard">
                            <i class="fas fa-home me-1"></i>Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="btn btn-outline-danger text-white" href="#logout">
                            <i class="fas fa-sign-out-alt me-1"></i>Logout
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Sidebar -->
    <nav class="sidebar-container" id="sidebar">
        <!-- Teacher Profile Section -->
        <div class="teacher-profile">
            <div class="profile-img">
                <i class="fas fa-user-tie"></i>
            </div>
            <h5 class="teacher-name">Prof. Sarah Johnson</h5>
            <p class="teacher-role">Mathematics Teacher</p>
        </div>

        <!-- Menu Section -->
        <div class="menu-section">
            <!-- Dashboard -->
            <div class="menu-item">
                <a href="#dashboard-content" class="menu-btn dashboard">
                    <i class="fas fa-tachometer-alt"></i>Dashboard
                </a>
            </div>

            <!-- My Students -->
            <div class="menu-item">
                <button class="menu-btn students" type="button" data-bs-toggle="collapse" 
                        data-bs-target="#studentsMenu" aria-expanded="false">
                    <i class="fas fa-users"></i>My Students
                    <i class="fas fa-chevron-down chevron"></i>
                </button>
                <div class="collapse submenu" id="studentsMenu">
                    <a href="#view-students" class="nav-link">
                        <i class="fas fa-eye"></i>View All Students
                    </a>
                    <a href="#student-progress" class="nav-link">
                        <i class="fas fa-chart-line"></i>Student Progress
                    </a>
                    <a href="#student-reports" class="nav-link">
                        <i class="fas fa-file-alt"></i>Student Reports
                    </a>
                </div>
            </div>

            <!-- Attendance Management -->
            <div class="menu-item">
                <button class="menu-btn attendance" type="button" data-bs-toggle="collapse" 
                        data-bs-target="#attendanceMenu" aria-expanded="false">
                    <i class="fas fa-clipboard-check"></i>Attendance
                    <i class="fas fa-chevron-down chevron"></i>
                </button>
                <div class="collapse submenu" id="attendanceMenu">
                    <a href="#mark-attendance" class="nav-link">
                        <i class="fas fa-check-circle"></i>Mark Attendance
                    </a>
                    <a href="#attendance-report" class="nav-link">
                        <i class="fas fa-chart-bar"></i>Attendance Reports
                    </a>
                    <a href="#attendance-history" class="nav-link">
                        <i class="fas fa-history"></i>Attendance History
                    </a>
                </div>
            </div>

            <!-- Assignment Management -->
            <div class="menu-item">
                <button class="menu-btn assignments" type="button" data-bs-toggle="collapse" 
                        data-bs-target="#assignmentMenu" aria-expanded="false">
                    <i class="fas fa-tasks"></i>Assignments
                    <i class="fas fa-chevron-down chevron"></i>
                </button>
                <div class="collapse submenu" id="assignmentMenu">
                    <a href="#create-assignment" class="nav-link">
                        <i class="fas fa-plus"></i>Create Assignment
                    </a>
                    <a href="#manage-assignments" class="nav-link">
                        <i class="fas fa-list"></i>Manage Assignments
                    </a>
                    <a href="#grade-assignments" class="nav-link">
                        <i class="fas fa-star"></i>Grade Assignments
                    </a>
                </div>
            </div>

            <!-- Grades & Results -->
            <div class="menu-item">
                <button class="menu-btn grades" type="button" data-bs-toggle="collapse" 
                        data-bs-target="#gradesMenu" aria-expanded="false">
                    <i class="fas fa-graduation-cap"></i>Grades & Results
                    <i class="fas fa-chevron-down chevron"></i>
                </button>
                <div class="collapse submenu" id="gradesMenu">
                    <a href="#enter-grades" class="nav-link">
                        <i class="fas fa-edit"></i>Enter Grades
                    </a>
                    <a href="#view-gradebook" class="nav-link">
                        <i class="fas fa-book"></i>View Gradebook
                    </a>
                    <a href="#generate-reports" class="nav-link">
                        <i class="fas fa-file-pdf"></i>Generate Reports
                    </a>
                </div>
            </div>

            <!-- Class Schedule -->
            <div class="menu-item">
                <button class="menu-btn schedule" type="button" data-bs-toggle="collapse" 
                        data-bs-target="#scheduleMenu" aria-expanded="false">
                    <i class="fas fa-calendar-alt"></i>My Schedule
                    <i class="fas fa-chevron-down chevron"></i>
                </button>
                <div class="collapse submenu" id="scheduleMenu">
                    <a href="#view-schedule" class="nav-link">
                        <i class="fas fa-calendar"></i>View Schedule
                    </a>
                    <a href="#upcoming-classes" class="nav-link">
                        <i class="fas fa-clock"></i>Upcoming Classes
                    </a>
                    <a href="#schedule-changes" class="nav-link">
                        <i class="fas fa-exchange-alt"></i>Schedule Changes
                    </a>
                </div>
            </div>

            <!-- Profile Settings -->
            <div class="menu-item">
                <a href="#profile-settings" class="menu-btn profile">
                    <i class="fas fa-user-cog"></i>Profile Settings
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="content-wrapper fade-in">
            <!-- Dashboard Header -->
            <div class="dashboard-header">
                <h1><i class="fas fa-home me-2"></i>Welcome Back, Prof. Johnson!</h1>
                <p>Here's what's happening in your classes today</p>
            </div>

            <!-- Statistics Cards -->
            <div class="row mb-4">
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="stats-card students">
                        <div class="stats-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stats-number">156</div>
                        <div class="stats-label">Total Students</div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="stats-card classes">
                        <div class="stats-icon">
                            <i class="fas fa-chalkboard"></i>
                        </div>
                        <div class="stats-number">8</div>
                        <div class="stats-label">Classes Today</div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="stats-card assignments">
                        <div class="stats-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="stats-number">23</div>
                        <div class="stats-label">Pending Assignments</div>
                    </div>
                </div>
            </div>

            <div class="row mb-4">
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="stats-card attendance">
                        <div class="stats-icon">
                            <i class="fas fa-clipboard-check"></i>
                        </div>
                        <div class="stats-number">89%</div>
                        <div class="stats-label">Attendance Rate</div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="stats-card grades">
                        <div class="stats-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="stats-number">45</div>
                        <div class="stats-label">Grades to Review</div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="stats-card notifications">
                        <div class="stats-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <div class="stats-number">12</div>
                        <div class="stats-label">Notifications</div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions and Recent Activity -->
            <div class="row">
                <div class="col-lg-6">
                    <div class="quick-actions">
                        <h3><i class="fas fa-bolt me-2"></i>Quick Actions</h3>
                        <a href="#mark-attendance" class="action-btn">
                            <i class="fas fa-check-circle me-2"></i>Mark Today's Attendance
                        </a>
                        <a href="#create-assignment" class="action-btn">
                            <i class="fas fa-plus me-2"></i>Create New Assignment
                        </a>
                        <a href="#enter-grades" class="action-btn">
                            <i class="fas fa-edit me-2"></i>Enter Grades
                        </a>
                        <a href="#view-schedule" class="action-btn">
                            <i class="fas fa-calendar me-2"></i>View Today's Schedule
                        </a>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="recent-activity">
                        <h3><i class="fas fa-clock me-2"></i>Recent Activity</h3>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-check"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Attendance marked for Math 101</div>
                                <div class="activity-time">2 hours ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-tasks"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Assignment "Algebra Basics" graded</div>
                                <div class="activity-time">4 hours ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-plus"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">New assignment created for Class 10A</div>
                                <div class="activity-time">1 day ago</div>
                            </div>
                        </div>
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-bell"></i>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">Parent meeting scheduled</div>
                                <div class="activity-time">2 days ago</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('show');
        }

        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', function(event) {
            const sidebar = document.getElementById('sidebar');
            const toggleButton = document.querySelector('.navbar-toggler');
            
            if (window.innerWidth <= 768) {
                if (!sidebar.contains(event.target) && !toggleButton.contains(event.target)) {
                    sidebar.classList.remove('show');
                }
            }
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add active state to menu items
        document.querySelectorAll('.menu-btn, .nav-link').forEach(item => {
            item.addEventListener('click', function() {
                document.querySelectorAll('.menu-btn, .nav-link').forEach(el => {
                    el.classList.remove('active');
                });
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>